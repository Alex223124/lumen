
<h2>Environment variables</h2>

<%
env = {
  :DOMAIN => 'Domain of Lumen install',
  :MAIL_DOMAIN => 'Domain from which mails will be sent and received',
  :SITE_NAME => 'Name of site e.g. Lumen Users Network',
  :SITE_NAME_DEFINITE => "Name of site with 'the' if appropriate e.g. The Lumen Users Network",
  :SITE_NAME_SHORT => 'Short site name e.g. LUN',
  :HELP_ADDRESS => 'Email address for general queries',

  :VIRTUALMIN_IP => 'IP for Virtualmin installation',
  :VIRTUALMIN_USERNAME => 'Username for Virtualmin',
  :VIRTUALMIN_PASSWORD => 'Password for Virtualmin',
  :VIRTUALMIN_DOM => 'DOM id of the virtual server',
  :VIRTUALMIN_NOTIFICATION_SCRIPT => 'Path of notification script to run when new mail received',
  :VIRTUALMIN_SAME_DOMAIN => 'Set to true if the mailserver is part of the same domain as the Lumen instance (e.g. mail.example.com and lumen.example.com)',

  :NOREPLY_NAME => "Name of email sender for general emails",
  :NOREPLY_SIG => "Email signature for general emails",

  :EXTRA_FIELDS_ACCOUNT => 'Extra fields for the Account model e.g. biography:wysiwyg,research_proposal:file',
  :NEWSME_SWITCH_HOUR => "Hour to switch over to today's news summaries e.g. 11",  

  :S3_BUCKET_NAME => 'S3 bucket name',
  :S3_ACCESS_KEY => 'S3 access key',
  :S3_SECRET => 'S3 secret',

  :FACEBOOK_KEY => 'Facebook API key',
  :FACEBOOK_SECRET => 'Facebook API secret',
  :LINKEDIN_KEY => 'LinkedIn API key',
  :LINKEDIN_SECRET => 'LinkedIn API secret',
  :GOOGLE_KEY => 'Google API key',
  :GOOGLE_SECRET => 'Google API secret',
  :TWITTER_KEY => 'Twitter API key',
  :TWITTER_SECRET => 'Twitter API secret',

  :HEROKU_APP_NAME => 'Name of the underlying Heroku app',
  :HEROKU_API_KEY => 'Heroku API key',

  :AIRBRAKE_HOST => 'Airbrake host (no http://)',
  :AIRBRAKE_API_KEY => 'Airbrake API key',

  :SESSION_SECRET => 'Session secret'
  } %>

<table class="table table-hover">
  <% env.each { |k,v| %>
    <tr>
      <td style="font-weight:bold">
        <%=k%>
      </td>
      <td>
        <%=v%></td>
      <td>
        <% if ENV[k.to_s] %>
          <% if k.to_s.ends_with?('PASSWORD') %>
            <% ENV[k.to_s].length.times do %>
              &bull;
            <% end %>
          <% else %>
            <%=ENV[k.to_s]%>
          <% end %>
        <% end %>
      </td>    
    </tr>
  <% } %>
</table>

<h2>Fragments</h2>

<% 
fragments = {
  :about => 'Text of about page',
  :'sign-in' => 'Text displayed on sign in page',
  :'first-time' => 'Text displayed on account edit page upon first login',
  :home => 'If defined, creates a default landing tab on the homepage with this text',
  :head => 'Extra content for &lt;head&gt;',
  :'affiliation-positions' => 'Comma-separated list of acceptable positions e.g. Novice,Intermediate,Master',
  :'tip-affiliations' => 'Tip for affiliations field on account edit page',
  :'tip-location' => 'Tip for location field on account edit page',
  :'hide-organisations' => 'If defined, hides the \'organisations\' tab',
  :'hide-sectors' => "If defined, hides the 'sectors' tab",
  :'tt-organisation' => "Alternative name for 'Organisation'",
  :'tt-sector' => "Alternative name for 'Sector'",
  :'organisations-icon' => "Alternative Font Awesome icon for organisations tab",
  :'sectors-icon' => "Alternative Font Awesome icon for sectors tab"
  }
%>

<table class="table table-hover">
  <% fragments.each { |k,v| %>
    <tr>
      <td style="font-weight:bold"><%=k%></td><td><%=v%></td><td><% if Fragment.find_by(slug: k) %><i class="fa fa-check"></i><% end %></td>    
    </tr>
  <% } %>
</table>